<header class="header-container" role="header">
  <div class="header-image">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 101.678 101.678">
      <title>SpaceX Launch Programs</title>
      <g id="Group_83" data-name="Group 83" transform="translate(-141 -696)">
        <circle
          id="Ellipse_8"
          data-name="Ellipse 8"
          cx="50.839"
          cy="50.839"
          r="50.839"
          transform="translate(141 696)"
          fill="#dd0031"
        />
        <g
          id="Group_47"
          data-name="Group 47"
          transform="translate(165.185 720.185)"
        >
          <path
            id="Path_33"
            data-name="Path 33"
            d="M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z"
            transform="translate(0.371 3.363)"
            fill="#fff"
          />
          <path
            id="Path_34"
            data-name="Path 34"
            d="M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z"
            transform="translate(0 0.005)"
            fill="#fff"
          />
        </g>
      </g>
    </svg>
  </div>
  <h1 class="header-title">SpaceX Launch Programs</h1>
</header>
<main class="content-wrapper" role="main">
  <aside class="card-filters">
    <h3>Filters</h3>
    <div class="filters-wrapper" role="filters">
      <!-- launch year filter -->
      <h4 class="filter-title">Launch Year</h4>
      <div class="filter-content">
        <a
          href="#"
          class="filter-item"
          *ngFor="let year of launchYears"
          [ngClass]="{ active: parameters.launch_year === year }"
          (click)="getSpaceXByFilter('launch_year', year)"
          >{{ year }}</a
        >
      </div>
      <!-- successful launch filter -->
      <h4 class="filter-title">Successful Launch</h4>
      <div class="filter-content">
        <a
          href="#"
          class="filter-item"
          [ngClass]="{ active: parameters.launch_success === true }"
          (click)="getSpaceXByFilter('launch_success', true)"
          >True</a
        >
        <a
          href="#"
          class="filter-item"
          [ngClass]="{ active: parameters.launch_success === false }"
          (click)="getSpaceXByFilter('launch_success', false)"
          >False</a
        >
      </div>
      <!-- successful landing filter -->
      <h4 class="filter-title">Successful Landing</h4>
      <div class="filter-content">
        <a
          href="#"
          class="filter-item"
          [ngClass]="{ active: parameters.land_success === true }"
          (click)="getSpaceXByFilter('land_success', true)"
          >True</a
        >
        <a
          href="#"
          class="filter-item"
          [ngClass]="{ active: parameters.land_success === false }"
          (click)="getSpaceXByFilter('land_success', false)"
          >False</a
        >
      </div>
    </div>
  </aside>
  <section class="card-wrapper" *ngIf="!hasError; else loadingOrError">
    <div class="card" *ngFor="let space of spaces$ | async; let i = index">
      <div class="card-image">
        <!-- <img [src]="space.links.mission_patch_small" /> -->
      </div>
      <p class="card-title">{{ space.mission_name }} #{{ i + 1 }}</p>
      <p>Mission Ids:</p>
      <ul>
        <li *ngFor="let s of space.mission_id">{{ s }}</li>
      </ul>
      <div class="card-content">
        <div class="card-item">Launch Year:</div>
        <div class="card-item">{{ space.launch_year }}</div>
        <div class="card-item">Successful Launch:</div>
        <div class="card-item">{{ space.launch_success }}</div>
        <div class="card-item">Successful Landing:</div>
        <div class="card-item">{{ space.launch_landing }}</div>
      </div>
    </div>
  </section>
  <ng-template #loadingOrError></ng-template>
  <ng-container *ngIf="hasError; else loading">
    <div class="error-msg">
      <div class="alert alert-danger">The API is not responding.</div>
    </div>
  </ng-container>

  <ng-template #loading>
    <div class="col-12 text-center">Loading ...</div>
  </ng-template>
</main>
